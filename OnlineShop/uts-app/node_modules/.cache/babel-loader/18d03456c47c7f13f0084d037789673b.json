{"ast":null,"code":"var _jsxFileName = \"D:\\\\KULIAH\\\\Semester6\\\\Pemrograman Framework\\\\framework-dimahyantidwi-1841720132-\\\\OnlineShop\\\\uts-app\\\\src\\\\container\\\\Kulkas\\\\Smartphone.jsx\";\nimport React, { Component } from \"react\";\nimport './Smartphone.css';\nimport Post from \"../../component/Kulkas/Post\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Smartphone extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listProduk: []\n    };\n\n    this.ambilDataDariServerAPI = () => {\n      fetch('http://localhost:3001/list-product').then(response => response.json()).then(jsonHasilAmbilDariAPI => {\n        this.setState({\n          listProduk: jsonHasilAmbilDariAPI\n        });\n      });\n    };\n\n    this.handleGetSmartphone = data => {\n      fetch(`http://localhost:3001/list-product/${data}`, {\n        method: \"GET\"\n      }).then(response => response.json()).then(res => {\n        // this.handleUpdateList(data, res);\n        var dataSmartphone = { ...this.state.insertKeranjang\n        };\n        dataSmartphone[\"id\"] = res[\"id\"];\n        dataSmartphone[\"nama\"] = res[\"nama\"];\n        dataSmartphone[\"harga\"] = res[\"harga\"];\n        dataSmartphone[\"stok\"] = res[\"stok\"];\n        dataSmartphone[\"qty\"] = 1;\n        this.setState({\n          insertKeranjang: dataSmartphone\n        });\n      }).then(() => {\n        this.handleCekKeranjang(data);\n      }).then(() => {\n        this.handleTombolSimpan();\n      });\n    };\n\n    this.handleCekKeranjang = data => {\n      fetch(`http://localhost:3002/keranjang/${data}`, {\n        method: \"GET\"\n      }).then(response => {\n        if (response.ok) {\n          response.json().then(res => {\n            this.handleUpdateKeranjang(data, res);\n            this.ambilDataDariServerAPI();\n          });\n        } else {\n          this.handleTombolSimpan();\n        }\n      });\n    };\n\n    this.handleUpdateKeranjang = (data, res) => {\n      fetch(`http://localhost:3002/keranjang/${data}`, {\n        method: \"PUT\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          id: res[\"id\"],\n          nama: res[\"nama\"],\n          harga: res[\"harga\"],\n          stok: res[\"stok\"],\n          qty: res[\"qty\"] + 1\n        })\n      });\n    };\n\n    this.handleTombolSimpan = () => {\n      fetch('http://localhost:3002/keranjang', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.insertKeranjang)\n      }).then(Response => {\n        this.ambilDataDariServerAPI();\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.ambilDataDariServerAPI();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-smartphone\",\n      children: [/*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Daftar Barang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tgh\",\n        children: this.state.listProduk.map(smartphone => {\n          return /*#__PURE__*/_jsxDEV(Post, {\n            id: smartphone.id,\n            nama: smartphone.nama,\n            harga: smartphone.harga,\n            gambar: smartphone.gambar,\n            stok: smartphone.stok,\n            tambahSmartphone: this.handleGetSmartphone\n          }, smartphone.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Smartphone;","map":{"version":3,"sources":["D:/KULIAH/Semester6/Pemrograman Framework/framework-dimahyantidwi-1841720132-/OnlineShop/uts-app/src/container/Kulkas/Smartphone.jsx"],"names":["React","Component","Post","Smartphone","state","listProduk","ambilDataDariServerAPI","fetch","then","response","json","jsonHasilAmbilDariAPI","setState","handleGetSmartphone","data","method","res","dataSmartphone","insertKeranjang","handleCekKeranjang","handleTombolSimpan","ok","handleUpdateKeranjang","headers","Accept","body","JSON","stringify","id","nama","harga","stok","qty","Response","componentDidMount","render","map","smartphone","gambar"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport './Smartphone.css';\r\nimport Post from \"../../component/Kulkas/Post\";\r\n\r\nclass Smartphone extends Component {\r\n    state = {\r\n        listProduk: []\r\n    }\r\n\r\n    ambilDataDariServerAPI = () => {\r\n        fetch('http://localhost:3001/list-product')\r\n            .then(response => response.json())\r\n            .then(jsonHasilAmbilDariAPI => {\r\n                this.setState({\r\n                    listProduk: jsonHasilAmbilDariAPI\r\n                })\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ambilDataDariServerAPI()\r\n    }\r\n\r\n    handleGetSmartphone = data => {\r\n        fetch(`http://localhost:3001/list-product/${data}`, { method: \"GET\" })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                // this.handleUpdateList(data, res);\r\n                var dataSmartphone = { ...this.state.insertKeranjang };\r\n                dataSmartphone[\"id\"] = res[\"id\"];\r\n                dataSmartphone[\"nama\"] = res[\"nama\"];\r\n                dataSmartphone[\"harga\"] = res[\"harga\"];\r\n                dataSmartphone[\"stok\"] = res[\"stok\"];\r\n                dataSmartphone[\"qty\"] = 1;\r\n                this.setState({\r\n                    insertKeranjang: dataSmartphone\r\n                });\r\n            })\r\n            .then(() => {\r\n                this.handleCekKeranjang(data);\r\n            })\r\n            .then(() => {\r\n                this.handleTombolSimpan();\r\n            });\r\n    };\r\n\r\n    handleCekKeranjang = data => {\r\n        fetch(`http://localhost:3002/keranjang/${data}`, { method: \"GET\" }).then(\r\n            response => {\r\n                if (response.ok) {\r\n                    response.json().then(res => {\r\n                        this.handleUpdateKeranjang(data, res);\r\n                        this.ambilDataDariServerAPI();\r\n                    });\r\n                } else {\r\n                    this.handleTombolSimpan();\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    handleUpdateKeranjang = (data, res) => {\r\n        fetch(`http://localhost:3002/keranjang/${data}`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                id: res[\"id\"],\r\n                nama: res[\"nama\"],\r\n                harga: res[\"harga\"],\r\n                stok: res[\"stok\"],\r\n                qty: res[\"qty\"] + 1\r\n            })\r\n        });\r\n    };\r\n\r\n    handleTombolSimpan = () => {\r\n        fetch('http://localhost:3002/keranjang', {\r\n            method: 'post',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(this.state.insertKeranjang)\r\n        })\r\n            .then((Response) => {\r\n                this.ambilDataDariServerAPI();\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"post-smartphone\">\r\n                {\r\n                /* <div className=\"form pb-2 border-bottom\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleTombolSimpan}>Simpan</button>\r\n                </div> */}\r\n                <center><h2>Daftar Barang</h2></center>\r\n                <div className=\"tgh\">\r\n                    {\r\n                        this.state.listProduk.map(smartphone => {\r\n                            return (\r\n                                <Post\r\n                                    key={smartphone.id}\r\n                                    id={smartphone.id}\r\n                                    nama={smartphone.nama}\r\n                                    harga={smartphone.harga}\r\n                                    gambar={smartphone.gambar}\r\n                                    stok={smartphone.stok}\r\n                                    tambahSmartphone={this.handleGetSmartphone} />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Smartphone;"]},"metadata":{},"sourceType":"module"}